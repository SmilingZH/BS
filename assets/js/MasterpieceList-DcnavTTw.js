import{d as D,e as v,u as I,f as $,A as T,z as B,g as o,a as C,h as e,q as M,l as w,t as c,j as E,F as f,i as _,o as l}from"./vendor-CFZyXlii.js";import{d as k,A as L,a as P,_ as x}from"./index-lqnnrIow.js";import{m as y}from"./art-detail-info-x4VGVnUL.js";const A={class:"masterpiece-list-page"},N={class:"content-container"},S={key:0,class:"dynasty-filter-info"},V={class:"dynasty-badge"},j={class:"dynasty-sections"},F={class:"dynasty-title"},R={class:"masterpieces-grid"},U=["onClick"],z={class:"card-content"},H={class:"masterpiece-title"},O={class:"masterpiece-meta"},G={class:"artist"},J={class:"period"},K={class:"masterpiece-desc"},Q={key:0,class:"technique-tags"},W=D({__name:"MasterpieceList",setup(X){const p=E(),g=I(),r=v(()=>{const i=g.query.dynasty;return i?parseInt(i):null}),d=v(()=>r.value===null?null:k.find(i=>i.id===r.value)),h=$([]),m=()=>{const i=[];r.value!==null?P(r.value).forEach(t=>{var a;const s=y.find(u=>u.title===t.title&&u.artist===t.artist);i.push({id:t.id,title:t.title,artist:t.artist,period:t.time,dynasty:((a=d.value)==null?void 0:a.name)||"",description:t.description,significance:t.significance,technique:(s==null?void 0:s.technique)||[],imageUrl:t.imageId?`/assets/images/paintings/${t.imageId}.webp`:void 0,collection:t.location})}):k.forEach(n=>{n.masterpieces.forEach(t=>{const s=y.find(a=>a.title===t.title&&a.artist===t.artist);i.push({id:t.id,title:t.title,artist:t.artist,period:t.time,dynasty:n.name,description:t.description,significance:t.significance,technique:(s==null?void 0:s.technique)||[],imageUrl:t.imageId?`/assets/images/paintings/${t.imageId}.webp`:void 0,collection:t.location})})}),h.value=i},q=v(()=>{const i={};return h.value.forEach(t=>{i[t.dynasty]||(i[t.dynasty]=[]),i[t.dynasty].push(t)}),Object.entries(i).map(([t,s])=>({dynasty:t,masterpieces:s}))}),b=i=>{const n=y.find(t=>t.id===i);if(n)p.push(`/masterpiece/${n.id}`);else{const t=h.value.find(s=>s.id===i);if(t){const s=y.find(a=>a.title===t.title&&a.artist===t.artist);s?p.push(`/masterpiece/${s.id}`):alert(`《${t.title}》的详细信息暂未添加，即将上线，敬请期待！`)}}};return T(()=>{m(),d.value&&setTimeout(()=>{window.scrollTo({top:0,behavior:"smooth"})},100)}),B(()=>g.fullPath,()=>{m(),setTimeout(()=>{window.scrollTo({top:0,behavior:"smooth"})},100)}),(i,n)=>(l(),o("div",A,[C(M(L),{activePath:"/historical-timeline"}),n[3]||(n[3]=e("div",{class:"app-header-spacer"},null,-1)),e("div",N,[n[2]||(n[2]=e("div",{class:"header-section"},[e("h1",{class:"page-title"},"中国绘画经典名作"),e("p",{class:"page-description"}," 探索跨越千年的中国绘画杰作，领略不同朝代的艺术风采 ")],-1)),d.value?(l(),o("div",S,[e("div",V,c(d.value.name)+"代 ",1),e("p",null,"当前显示"+c(d.value.name)+"代经典名作",1),e("button",{class:"clear-filter-btn",onClick:n[0]||(n[0]=t=>M(p).push("/masterpiece-list"))},"查看所有名作")])):w("",!0),e("div",j,[(l(!0),o(f,null,_(q.value,t=>(l(),o("div",{key:t.dynasty,class:"dynasty-section"},[e("h2",F,c(t.dynasty)+"朝",1),e("div",R,[(l(!0),o(f,null,_(t.masterpieces,s=>(l(),o("div",{key:s.id,class:"masterpiece-card",onClick:a=>b(s.id)},[e("div",z,[e("h3",H,c(s.title),1),e("div",O,[e("span",G,c(s.artist),1),e("span",J,c(s.period),1)]),e("p",K,c(s.description.substring(0,80))+"...",1),s.technique&&s.technique.length>0?(l(),o("div",Q,[(l(!0),o(f,null,_(s.technique,(a,u)=>(l(),o("span",{key:u,class:"tag"},c(a),1))),128))])):w("",!0),n[1]||(n[1]=e("div",{class:"view-detail"},"查看详情 →",-1))])],8,U))),128))])]))),128))])])]))}}),st=x(W,[["__scopeId","data-v-0831e1f6"]]);export{st as default};
