import{l as y,k as _,_ as C}from"./index-DPFM1B2x.js";import{d as k,l as p,r as g,g as q,c as a,e as S,b as t,s as x,F as T,f as b,a as w,E as A,t as l,u as I,n as N,o as r}from"./vendor-DTVt_46P.js";const P={class:"historical-timeline-page"},V={class:"content-container"},$={class:"timeline-container"},D=["onClick"],B={class:"node-content"},E={class:"node-label"},H={class:"dynasty-detail-container"},F={key:0,class:"dynasty-detail"},L={class:"dynasty-title"},M={class:"dynasty-period"},R={class:"detail-section"},z={class:"navigation-section"},W=k({__name:"HistoricalTimeline",setup(X){const u=I(),c=p(()=>y.map(s=>{const e=s.famousArtists.slice(0,3).map(i=>({name:i.name,lifetime:i.lifetime,achievements:i.achievements})),o=s.masterpieces.slice(0,3).map(i=>({title:i.title,artist:i.artist,time:i.time,description:i.description}));return{id:s.id,name:s.name,period:s.period,overview:s.overview,characteristics:s.characteristics,schools:s.schools||[],techniques:s.techniques,famousArtists:e,masterpieces:o,historicalContext:s.historicalContext}})),d=g(0),f=s=>{if(d.value=s,window.innerWidth<=768)setTimeout(()=>{const e=document.querySelector(".dynasty-detail-container");if(e){e.scrollIntoView({behavior:"smooth",block:"start"});const o=document.querySelector(".dynasty-detail");o&&(o.scrollTop=0)}},100);else{const e=document.querySelector(".dynasty-detail");e&&(e.scrollTop=0)}},n=p(()=>c.value[d.value]),v=s=>{switch(sessionStorage.setItem("masterpieceReferrer","/historical-timeline"),s){case"masterpieces":u.push({path:"/masterpiece-list",query:{dynasty:n.value.id.toString()}});break;case"artists":u.push({path:"/artist-list",query:{dynasty:n.value.id.toString()}});break}},h=()=>{c.value.forEach((s,e)=>{const o=document.querySelector(`.dynasty-node:nth-child(${e+3})`);if(o){const i=e%2===0?"-40px":"40px",m=`${e*120}px`;o.style.setProperty("--offset-x",i),o.style.setProperty("--offset-y",m)}})};return q(()=>{h()}),(s,e)=>(r(),a("div",P,[S(x(_),{activePath:"/historical-timeline"}),e[7]||(e[7]=t("div",{class:"app-header-spacer"},null,-1)),t("div",V,[t("div",$,[e[3]||(e[3]=t("div",{class:"timeline-line"},null,-1)),(r(!0),a(T,null,b(c.value,(o,i)=>(r(),a("div",{key:o.id,class:N(["dynasty-node",{active:i===d.value,"even-node":i%2===0,"odd-node":i%2===1}]),onClick:m=>f(i)},[e[2]||(e[2]=t("div",{class:"node-dot"},null,-1)),t("div",B,[t("div",E,l(o.name),1)])],10,D))),128))]),t("div",H,[n.value?(r(),a("div",F,[t("h2",L,[A(l(n.value.name)+" ",1),t("span",M,l(n.value.period),1)]),t("div",R,[e[4]||(e[4]=t("h3",null,"å†å²èƒŒæ™¯",-1)),t("p",null,l(n.value.historicalContext),1)]),t("div",z,[t("div",{class:"nav-item",onClick:e[0]||(e[0]=o=>v("masterpieces"))},e[5]||(e[5]=[t("div",{class:"nav-icon"},"ğŸï¸",-1),t("h3",null,"ç»å…¸åä½œ",-1),t("p",null,"æ¬£èµè·¨è¶Šåƒå¹´çš„è‰ºæœ¯æ°ä½œ",-1)])),t("div",{class:"nav-item",onClick:e[1]||(e[1]=o=>v("artists"))},e[6]||(e[6]=[t("div",{class:"nav-icon"},"ğŸ‘¨â€ğŸ¨",-1),t("h3",null,"åå®¶å¤§å¸ˆ",-1),t("p",null,"æ¢ç´¢ä¸­å›½ç”»å›çš„ä¸æœ½å·¨åŒ ",-1)]))])])):w("",!0)])])]))}}),G=C(W,[["__scopeId","data-v-49394587"]]);export{G as default};
