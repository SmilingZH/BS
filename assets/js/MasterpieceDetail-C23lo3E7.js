import{d as V,e as q,u as z,f as m,z as B,A as N,g as a,a as P,h as t,l as d,q as W,n as A,t as o,F as w,i as b,C as f,j as L,o as n,p as U}from"./vendor-CFZyXlii.js";import{A as j,s as _,i as I,_ as F}from"./index-lqnnrIow.js";import{m as y}from"./art-detail-info-x4VGVnUL.js";const E={class:"detail-container"},H={class:"detail-layout"},G={class:"detail-info"},J={class:"masterpiece-title"},K={class:"masterpiece-meta"},O={class:"artist"},Q={class:"period"},X={key:0,class:"collection"},Y={class:"detail-section"},Z={class:"detail-section"},ee={class:"detail-section"},te={class:"technique-tags"},se={key:0,class:"detail-section"},le={key:1,class:"detail-section"},ie={class:"artwork-display"},oe={key:0,class:"image-container"},ae=["src","alt"],ne={key:1,class:"placeholder-image"},re={class:"placeholder-text"},ce={key:0,class:"detail-section"},de={class:"related-works"},ue=["onClick"],pe={key:0,class:"recommendations-section"},ve={class:"recommendations-grid"},me=["onClick"],fe={class:"recommendation-image-container"},_e=["src","alt"],ge={key:1,class:"recommendation-placeholder"},he={class:"recommendation-info"},ke=V({__name:"MasterpieceDetail",setup(we){const T=z(),u=L(),p=q(()=>T.params.id),l=m(null),v=m([]),g=m(!1),h=m(null),c={"0001":0,"0002":1,"0003":2,"0004":3,"0005":4,"0006":5,"0007":6,"0008":7,"0009":8,"0010":9,"0011":10,"0012":11,"0013":12,"0014":13,"0015":14},C=i=>{if(!i)return"";const e=i.split("/").pop();if(!e)return"";const s={"Ê¢ÖËä±Â±±Ëå∂Èõ™ÈõÄÂõæ.webp":0,"Ê¢®Ëä±ÊñëÈ∏†Âõæ.webp":1,"ÁåøÈ©¨Âõæ.webp":2,"ËäôËìâÈî¶È∏°Âõæ.webp":3,"Ê°ÉÈ∏†Âõæ.webp":4,"‰∫îËâ≤Èπ¶ÈπâÂõæ.webp":5,"ÂÖ´Ëä±ÂõæÂç∑.webp":6,"Ëä±È∏üÂõæÂç∑.webp":7,"Ê°ÉÁ´πÈî¶È∏°ÂõæËΩ¥.webp":8,"ÁãÆÂ§¥ÈπÖÂõæ.webp":9,"Ê°ÇËèäÂ±±Á¶ΩÂõæ.webp":10,"Á´πÈπ§ÂõæËΩ¥.webp":11,"ÁßãÊµ∑Ê£†Âõæ.webp":12,"‰πùÂÖ∞Âõæ.webp":13,"ÂÖ∞Á´πÂõæ.webp":14,"ÂÖ´Ëä±Âõæ.webp":6,"Ê°ÉÁ´πÈî¶È∏°Âõæ.webp":8,"ÁôΩÁâ°‰∏πÂõæ.webp":7,"Á´πÈπ§Âõæ.webp":11,"ÁâßÈ©¨Âõæ.webp":2};if(e in s)return _[s[e]];if(e.includes("paintings")){const r=e.match(/(\d{4})\.jpg/);if(r&&r[1]in c)return _[c[r[1]]]}for(const r of I)if(e.includes(r.title)){const k=r.id;if(k in c)return _[c[k]]}return e.includes("ÁâßÈ©¨Âõæ")?_[2]:(console.warn(`Êú™ÊâæÂà∞ÂõæÁâá: ${e}`),"")},M=()=>{const i=I.find(e=>{var s;return e.title===((s=l.value)==null?void 0:s.title)});i&&i.id in c?(sessionStorage.setItem("scrollReferrer","masterpiece"),u.push(`/scroll/${c[i.id]}`)):alert("ÂæàÊä±Ê≠âÔºåÊ≠§Áîª‰ΩúÊöÇ‰∏çÊîØÊåÅÂç∑ËΩ¥Êü•ÁúãÊ®°Âºè")},$=()=>{h.value&&(h.value.scrollTop=0),window.scrollTo({top:0,behavior:"instant"});const i=document.querySelector(".masterpiece-detail-page");i&&(i.scrollTop=0)},x=async()=>{$(),g.value=!0,l.value=null,v.value=[],await U();const i=y.find(e=>e.id===p.value);if(i)l.value=i,v.value=y.filter(e=>e.id!==p.value&&(e.dynasty===i.dynasty||e.artist===i.artist)).slice(0,4);else{console.error(`Êú™ÊâæÂà∞ID‰∏∫${p.value}ÁöÑ‰ΩúÂìÅËØ¶ÊÉÖ`),u.push("/historical-timeline");return}setTimeout(()=>{g.value=!1,$()},300)};B(()=>T.params.id,(i,e)=>{i!==e&&(console.log(`‰ΩúÂìÅIDÂ∑≤ÂèòÊõ¥: ${e} -> ${i}`),x())},{immediate:!0});const D=i=>{if(i===p.value){console.log("Â∑≤ÁªèÂú®ÂΩìÂâç‰ΩúÂìÅÈ°µÈù¢Ôºå‰∏çÈúÄË¶ÅÂØºËà™");return}u.replace(`/masterpiece/${i}`)},R=(i,e)=>{const s=y.find(r=>r.title===i&&r.artist===e);if(s){if(s.id===p.value){console.log("Â∑≤ÁªèÂú®ÂΩìÂâç‰ΩúÂìÅÈ°µÈù¢Ôºå‰∏çÈúÄË¶ÅÂØºËà™");return}u.replace(`/masterpiece/${s.id}`)}else alert(`„Ää${i}„ÄãÁöÑËØ¶ÁªÜ‰ø°ÊÅØÊöÇÊú™Ê∑ªÂä†ÔºåÊï¨ËØ∑ÊúüÂæÖÔºÅ`)},S=()=>{u.push("/historical-timeline")};return N(()=>{}),(i,e)=>(n(),a("div",{class:"masterpiece-detail-page",ref_key:"detailPageRef",ref:h},[P(W(j),{activePath:"/historical-timeline"}),e[12]||(e[12]=t("div",{class:"app-header-spacer"},null,-1)),l.value?(n(),a("div",{key:0,class:A(["content-container",{"content-transitioning":g.value}])},[t("button",{class:"back-button",onClick:S},"‚Üê ËøîÂõû"),t("div",E,[t("div",H,[t("div",G,[t("h1",J,o(l.value.title),1),t("div",K,[t("span",O,"‰ΩúËÄÖ: "+o(l.value.artist),1),t("span",Q,"Âπ¥‰ª£: "+o(l.value.period)+" ("+o(l.value.dynasty)+"Êúù)",1),l.value.collection?(n(),a("span",X,"Êî∂Ëóè: "+o(l.value.collection),1)):d("",!0)]),t("section",Y,[e[0]||(e[0]=t("h2",null,"‰ΩúÂìÅ‰ªãÁªç",-1)),t("p",null,o(l.value.description),1)]),t("section",Z,[e[1]||(e[1]=t("h2",null,"Ëâ∫ÊúØ‰ª∑ÂÄº",-1)),t("p",null,o(l.value.significance),1)]),t("section",ee,[e[2]||(e[2]=t("h2",null,"Âàõ‰ΩúÊäÄÊ≥ï",-1)),t("div",te,[(n(!0),a(w,null,b(l.value.technique,(s,r)=>(n(),a("span",{class:"tag",key:r},o(s),1))),128))])]),l.value.size?(n(),a("section",se,[e[3]||(e[3]=t("h2",null,"‰ΩúÂìÅËßÑÊ†º",-1)),t("p",null,o(l.value.size),1)])):d("",!0),l.value.collection?(n(),a("section",le,[e[4]||(e[4]=t("h2",null,"Êî∂ËóèÂú∞ÁÇπ",-1)),t("p",null,o(l.value.collection),1)])):d("",!0),t("button",{class:"scroll-viewer-button",onClick:M},e[5]||(e[5]=[t("span",{class:"scroll-icon"},"üñºÔ∏è",-1),f(" Âç∑ËΩ¥Êü•ÁúãÊ®°Âºè ")]))]),t("div",ie,[l.value.imageUrl?(n(),a("div",oe,[t("img",{src:C(l.value.imageUrl),alt:l.value.title,class:"artwork-image"},null,8,ae)])):(n(),a("div",ne,[t("div",re,[f(" „Ää"+o(l.value.title)+"„Äã ",1),e[6]||(e[6]=t("div",{class:"placeholder-subtext"},"ÂõæÁâáÂáÜÂ§á‰∏≠",-1))])]))])]),l.value.relatedWorks&&l.value.relatedWorks.length>0?(n(),a("section",ce,[e[10]||(e[10]=t("h2",null,"Áõ∏ÂÖ≥‰ΩúÂìÅ",-1)),t("div",de,[(n(!0),a(w,null,b(l.value.relatedWorks,(s,r)=>(n(),a("div",{key:r,class:"related-work-item",onClick:k=>R(s.title,s.artist)},[t("h3",null,o(s.title),1),t("p",null,[e[7]||(e[7]=t("strong",null,"‰ΩúËÄÖ:",-1)),f(" "+o(s.artist),1)]),t("p",null,[e[8]||(e[8]=t("strong",null,"ÂÖ≥Á≥ª:",-1)),f(" "+o(s.relation),1)]),e[9]||(e[9]=t("div",{class:"view-detail"},"Êü•ÁúãËØ¶ÊÉÖ ‚Üí",-1))],8,ue))),128))])])):d("",!0)]),v.value.length>0?(n(),a("section",pe,[e[11]||(e[11]=t("h2",{class:"section-title"},"Áõ∏ÂÖ≥Áîª‰ΩúÊé®Ëçê",-1)),t("div",ve,[(n(!0),a(w,null,b(v.value,s=>(n(),a("div",{key:s.id,class:"recommendation-card",onClick:r=>D(s.id)},[t("div",fe,[s.imageUrl?(n(),a("img",{key:0,src:C(s.imageUrl),alt:s.title,class:"recommendation-image"},null,8,_e)):(n(),a("div",ge,[t("span",null,o(s.title),1)]))]),t("div",he,[t("h3",null,o(s.title),1),t("p",null,o(s.artist)+" | "+o(s.dynasty)+"Êúù",1)])],8,me))),128))])])):d("",!0)],2)):d("",!0)],512))}}),Ce=F(ke,[["__scopeId","data-v-1fcf724c"]]);export{Ce as default};
