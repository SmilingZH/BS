import{_ as E,a as $,b as x,c as I,d as R,e as L,f as q,g as B,h as N}from"./韩干-D4N4qzLf.js";import{d as P,e as S,u as U,f as u,z as V,A as F,g as n,a as M,h as s,l as m,q as H,n as O,t as o,C as W,F as f,i as y,j as G,o as r,p as J}from"./vendor-BA6P5Hzh.js";import{j as K,_ as Q}from"./index-CkDkFKXb.js";import{m as X,a as b}from"./art-detail-info-QH3f716g.js";const Y={class:"detail-container"},Z={class:"detail-layout"},ss={class:"detail-info"},es={class:"artist-header"},ts={class:"artist-name"},as={class:"artist-meta"},os={class:"lifetime"},is={class:"dynasty"},ls={key:0,class:"school"},ns={class:"detail-section"},rs={class:"detail-section"},cs={class:"artist-portrait"},ds=["src","alt"],_s={class:"portrait-placeholder"},us={class:"portrait-text"},ms={class:"portrait-dynasty"},ps={class:"detail-section"},gs={class:"detail-section"},vs={class:"artwork-section"},hs={class:"artworks-grid"},fs=["onClick"],ys={class:"artwork-image-container"},bs=["src","alt"],ks={class:"artwork-placeholder"},ws={class:"artwork-info"},js={class:"artwork-period"},zs={class:"artwork-description"},Ts={key:0,class:"recommendations-section"},As={class:"recommendations-grid"},Cs=["onClick"],Ds={class:"recommendation-info"},Es={key:0,class:"school-tag"},$s={class:"artist-brief"},xs=P({__name:"ArtistDetail",setup(Is){const v=U(),c=G(),d=S(()=>v.params.id),i=u(null),_=u([]),p=u(!1),g=u(null),h=()=>{g.value&&(g.value.scrollTop=0),window.scrollTo({top:0,behavior:"instant"});const t=document.querySelector(".artist-detail-page");t&&(t.scrollTop=0)},k=async()=>{h(),p.value=!0,i.value=null,_.value=[],await J();const t=b.find(e=>e.id===d.value);if(t)i.value=t,_.value=b.filter(e=>e.id!==d.value&&e.dynasty===t.dynasty).slice(0,4);else{console.error(`未找到ID为${d.value}的画家详情`),c.push("/historical-timeline");return}setTimeout(()=>{p.value=!1,h()},300)};V(()=>v.params.id,(t,e)=>{t!==e&&(console.log(`画家ID已变更: ${e} -> ${t}`),k())},{immediate:!0});const w=t=>{if(t===d.value){console.log("已经在当前画家页面，不需要导航");return}c.replace(`/artist/${t}`)},j=t=>{const e=X.find(a=>{var l;return a.title===t&&a.artist===((l=i.value)==null?void 0:l.name)});e?c.push(`/masterpiece/${e.id}`):alert(`《${t}》的详细信息暂未添加，敬请期待！`)},z=()=>{c.push("/historical-timeline")},T=t=>{try{return new URL(Object.assign({"../assets/imgs/zuojiaimg/吕纪.webp":N,"../assets/imgs/zuojiaimg/恽寿平.webp":B,"../assets/imgs/zuojiaimg/王渊.webp":q,"../assets/imgs/zuojiaimg/赵佶.webp":L,"../assets/imgs/zuojiaimg/边景昭.webp":R,"../assets/imgs/zuojiaimg/边鸾.webp":I,"../assets/imgs/zuojiaimg/郑燮.webp":x,"../assets/imgs/zuojiaimg/钱选.webp":$,"../assets/imgs/zuojiaimg/韩干.webp":E})[`../assets/imgs/zuojiaimg/${t}.webp`],import.meta.url).href}catch{return""}},A=t=>{if(!t)return"";try{return new URL(t.replace("./assets","../assets"),import.meta.url).href}catch(e){return console.error("图片加载失败:",e),""}},C=t=>{var l;const e=t.target;e.style.display="none";const a=(l=e.parentElement)==null?void 0:l.querySelector(".artwork-placeholder");a&&(a.style.display="flex")},D=t=>{var l;const e=t.target;e.style.display="none";const a=(l=e.parentElement)==null?void 0:l.querySelector(".portrait-placeholder");a&&(a.style.display="flex")};return F(()=>{}),(t,e)=>(r(),n("div",{class:"artist-detail-page",ref_key:"detailPageRef",ref:g},[M(H(K),{activePath:"/historical-timeline"}),e[6]||(e[6]=s("div",{class:"app-header-spacer"},null,-1)),i.value?(r(),n("div",{key:0,class:O(["content-container",{"content-transitioning":p.value}])},[s("button",{class:"back-button",onClick:z},"← 返回"),s("div",Y,[s("div",Z,[s("div",ss,[s("div",es,[s("h1",ts,o(i.value.name),1),s("div",as,[s("span",os,o(i.value.lifetime),1),s("span",is,o(i.value.dynasty)+"朝",1),i.value.school?(r(),n("span",ls,o(i.value.school),1)):m("",!0)])]),s("section",ns,[e[0]||(e[0]=s("h2",null,"生平简介",-1)),s("p",null,o(i.value.biography),1)]),s("section",rs,[e[1]||(e[1]=s("h2",null,"艺术成就",-1)),s("p",null,o(i.value.achievements),1)])]),s("div",cs,[s("img",{src:T(i.value.name),alt:i.value.name,class:"artist-image",onError:D},null,40,ds),s("div",_s,[s("div",us,[W(o(i.value.name)+" ",1),s("div",ms,o(i.value.dynasty)+"朝",1)])])])]),s("section",ps,[e[2]||(e[2]=s("h2",null,"艺术风格",-1)),s("p",null,o(i.value.style),1)]),s("section",gs,[e[3]||(e[3]=s("h2",null,"历史影响",-1)),s("p",null,o(i.value.influence),1)])]),s("section",vs,[e[4]||(e[4]=s("h2",{class:"section-title"},"代表作品",-1)),s("div",hs,[(r(!0),n(f,null,y(i.value.majorWorks,(a,l)=>(r(),n("div",{key:l,class:"artwork-card",onClick:Rs=>j(a.title)},[s("div",ys,[s("img",{src:A(a.imageUrl),alt:a.title,class:"artwork-image",loading:"lazy",onError:C},null,40,bs),s("div",ks,[s("span",null,o(a.title),1)])]),s("div",ws,[s("h3",null,o(a.title),1),s("p",js,o(a.period),1),s("p",zs,o(a.description.substring(0,100))+"...",1)])],8,fs))),128))])]),_.value.length>0?(r(),n("section",Ts,[e[5]||(e[5]=s("h2",{class:"section-title"},"同朝代画家推荐",-1)),s("div",As,[(r(!0),n(f,null,y(_.value,a=>(r(),n("div",{key:a.id,class:"recommendation-card",onClick:l=>w(a.id)},[s("div",Ds,[s("h3",null,o(a.name),1),s("p",null,o(a.lifetime)+" | "+o(a.dynasty)+"朝",1),a.school?(r(),n("p",Es,o(a.school),1)):m("",!0),s("p",$s,o(a.biography.substring(0,70))+"...",1)])],8,Cs))),128))])])):m("",!0)],2)):m("",!0)],512))}}),Ps=Q(xs,[["__scopeId","data-v-ed1015a5"]]);export{Ps as default};
