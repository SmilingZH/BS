import{_ as D,a as $,b as x,c as I,d as R,e as q,f as L,g as B,h as N,i as P,j as S,k as U,l as V,m as F,n as M,o as H,p as O,q as W,r as G,s as J}from"./马麟-Bsf7iHJ7.js";import{d as K,k as Q,u as X,r as u,C as Y,g as Z,c as n,e as ss,b as s,a as m,m as es,n as ts,t as i,E as as,F as b,f,q as is,o as r,y as os}from"./vendor-B5ERtXls.js";import{k as ls,_ as ns}from"./index-BRBySVmZ.js";import{m as rs,a as y}from"./art-detail-info-DgScSf78.js";const cs={class:"detail-container"},_s={class:"detail-layout"},ds={class:"detail-info"},us={class:"artist-header"},ms={class:"artist-name"},gs={class:"artist-meta"},ps={class:"lifetime"},vs={class:"dynasty"},hs={key:0,class:"school"},bs={class:"detail-section"},fs={class:"detail-section"},ys={class:"artist-portrait"},ws=["src","alt"],ks={class:"portrait-placeholder"},js={class:"portrait-text"},zs={class:"portrait-dynasty"},Ts={class:"detail-section"},Es={class:"detail-section"},As={class:"artwork-section"},Cs={class:"artworks-grid"},Ds=["onClick"],$s={class:"artwork-image-container"},xs=["src","alt"],Is={class:"artwork-placeholder"},Rs={class:"artwork-info"},qs={class:"artwork-period"},Ls={class:"artwork-description"},Bs={key:0,class:"recommendations-section"},Ns={class:"recommendations-grid"},Ps=["onClick"],Ss={class:"recommendation-info"},Us={key:0,class:"school-tag"},Vs={class:"artist-brief"},Fs=K({__name:"ArtistDetail",setup(Ms){const v=X(),c=is(),_=Q(()=>v.params.id),o=u(null),d=u([]),g=u(!1),p=u(null),h=()=>{p.value&&(p.value.scrollTop=0),window.scrollTo({top:0,behavior:"instant"});const t=document.querySelector(".artist-detail-page");t&&(t.scrollTop=0)},w=async()=>{h(),g.value=!0,o.value=null,d.value=[],await os();const t=y.find(e=>e.id===_.value);if(t)o.value=t,d.value=y.filter(e=>e.id!==_.value&&e.dynasty===t.dynasty).slice(0,4);else{console.error(`未找到ID为${_.value}的画家详情`),c.push("/historical-timeline");return}setTimeout(()=>{g.value=!1,h()},300)};Y(()=>v.params.id,(t,e)=>{t!==e&&(console.log(`画家ID已变更: ${e} -> ${t}`),w())},{immediate:!0});const k=t=>{if(t===_.value){console.log("已经在当前画家页面，不需要导航");return}c.replace(`/artist/${t}`)},j=t=>{const e=rs.find(a=>{var l;return a.title===t&&a.artist===((l=o.value)==null?void 0:l.name)});e?c.push(`/masterpiece/${e.id}`):alert(`《${t}》的详细信息暂未添加，敬请期待！`)},z=()=>{c.push("/historical-timeline")},T=t=>{try{return new URL(Object.assign({"../assets/imgs/zuojiaimg/任伯年.webp":J,"../assets/imgs/zuojiaimg/华嵒.webp":G,"../assets/imgs/zuojiaimg/吕纪.webp":W,"../assets/imgs/zuojiaimg/吴镇.webp":O,"../assets/imgs/zuojiaimg/徐渭.webp":H,"../assets/imgs/zuojiaimg/恽寿平.webp":M,"../assets/imgs/zuojiaimg/李思训.webp":F,"../assets/imgs/zuojiaimg/李昭道.webp":V,"../assets/imgs/zuojiaimg/王冕.webp":U,"../assets/imgs/zuojiaimg/王渊.webp":S,"../assets/imgs/zuojiaimg/范宽.webp":P,"../assets/imgs/zuojiaimg/赵佶.webp":N,"../assets/imgs/zuojiaimg/边景昭.webp":B,"../assets/imgs/zuojiaimg/边鸾.webp":L,"../assets/imgs/zuojiaimg/邹一桂.webp":q,"../assets/imgs/zuojiaimg/郑燮.webp":R,"../assets/imgs/zuojiaimg/钱选.webp":I,"../assets/imgs/zuojiaimg/陈洪绶.webp":x,"../assets/imgs/zuojiaimg/韩干.webp":$,"../assets/imgs/zuojiaimg/马麟.webp":D})[`../assets/imgs/zuojiaimg/${t}.webp`],import.meta.url).href}catch{return""}},E=t=>{if(!t)return"";try{return new URL(t.replace("./assets","../assets"),import.meta.url).href}catch(e){return console.error("图片加载失败:",e),""}},A=t=>{var l;const e=t.target;e.style.display="none";const a=(l=e.parentElement)==null?void 0:l.querySelector(".artwork-placeholder");a&&(a.style.display="flex")},C=t=>{var l;const e=t.target;e.style.display="none";const a=(l=e.parentElement)==null?void 0:l.querySelector(".portrait-placeholder");a&&(a.style.display="flex")};return Z(()=>{}),(t,e)=>(r(),n("div",{class:"artist-detail-page",ref_key:"detailPageRef",ref:p},[ss(es(ls),{activePath:"/historical-timeline"}),e[6]||(e[6]=s("div",{class:"app-header-spacer"},null,-1)),o.value?(r(),n("div",{key:0,class:ts(["content-container",{"content-transitioning":g.value}])},[s("button",{class:"back-button",onClick:z},"← 返回"),s("div",cs,[s("div",_s,[s("div",ds,[s("div",us,[s("h1",ms,i(o.value.name),1),s("div",gs,[s("span",ps,i(o.value.lifetime),1),s("span",vs,i(o.value.dynasty)+"朝",1),o.value.school?(r(),n("span",hs,i(o.value.school),1)):m("",!0)])]),s("section",bs,[e[0]||(e[0]=s("h2",null,"生平简介",-1)),s("p",null,i(o.value.biography),1)]),s("section",fs,[e[1]||(e[1]=s("h2",null,"艺术成就",-1)),s("p",null,i(o.value.achievements),1)])]),s("div",ys,[s("img",{src:T(o.value.name),alt:o.value.name,class:"artist-image",onError:C},null,40,ws),s("div",ks,[s("div",js,[as(i(o.value.name)+" ",1),s("div",zs,i(o.value.dynasty)+"朝",1)])])])]),s("section",Ts,[e[2]||(e[2]=s("h2",null,"艺术风格",-1)),s("p",null,i(o.value.style),1)]),s("section",Es,[e[3]||(e[3]=s("h2",null,"历史影响",-1)),s("p",null,i(o.value.influence),1)])]),s("section",As,[e[4]||(e[4]=s("h2",{class:"section-title"},"代表作品",-1)),s("div",Cs,[(r(!0),n(b,null,f(o.value.majorWorks,(a,l)=>(r(),n("div",{key:l,class:"artwork-card",onClick:Hs=>j(a.title)},[s("div",$s,[s("img",{src:E(a.imageUrl),alt:a.title,class:"artwork-image",loading:"lazy",onError:A},null,40,xs),s("div",Is,[s("span",null,i(a.title),1)])]),s("div",Rs,[s("h3",null,i(a.title),1),s("p",qs,i(a.period),1),s("p",Ls,i(a.description.substring(0,100))+"...",1)])],8,Ds))),128))])]),d.value.length>0?(r(),n("section",Bs,[e[5]||(e[5]=s("h2",{class:"section-title"},"同朝代画家推荐",-1)),s("div",Ns,[(r(!0),n(b,null,f(d.value,a=>(r(),n("div",{key:a.id,class:"recommendation-card",onClick:l=>k(a.id)},[s("div",Ss,[s("h3",null,i(a.name),1),s("p",null,i(a.lifetime)+" | "+i(a.dynasty)+"朝",1),a.school?(r(),n("p",Us,i(a.school),1)):m("",!0),s("p",Vs,i(a.biography.substring(0,70))+"...",1)])],8,Ps))),128))])])):m("",!0)],2)):m("",!0)],512))}}),Ks=ns(Fs,[["__scopeId","data-v-25b583e1"]]);export{Ks as default};
